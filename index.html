
<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>بطاقة شكر</title>
  <style>
    body {
      margin: 0;
      padding: 0;
      font-family: 'Arial', sans-serif;
      background-image: url('certificate.jpeg');
      background-size: cover;
      background-position: center;
      height: 100vh;
      color: white;
    }
    .container {
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      height: 100%;
      backdrop-filter: brightness(0.9);
      padding: 20px;
    }
    input, select, button {
      font-size: 20px;
      margin: 10px;
      padding: 10px;
      width: 300px;
    }
    canvas {
      display: none;
    }
    .instructions {
      margin-top: 20px;
      font-size: 24px;
      text-align: center;
      color: white;
    }
  </style>
</head>
<body>
  <div class="container">
    <input type="text" id="teacherName" placeholder="اسم عضو هيئة التدريس">
    <select id="thankMessage">
      <option value="إلى من زرع فينا بذور الطموح، وسقاها علمًا واهتمامًا حتى أينعت إنجازًا وتخرجًا…

كنتم لنا أكثر من معلّم، كنتم الدافع حين تراجعنا، والسند حين ترددنا، والنور حين غابت الرؤية.
لم تكن كلماتكم تمرُّ مرورًا عابرًا، بل كانت ترسخ في الذاكرة وتبني فينا الإنسان قبل أن تُشكّل فينا الطالب.

وفي يوم التخرّج، لا يسعنا إلا أن نلتفت بامتنان لمن كان له الفضل بعد الله في وصولنا،
شكرًا لكم… فقد كنتم أثرًا لا يُمحى، وعلامة فارقة في دربنا العلمي والإنساني">
        الرسالة الأولى
      </option>
      <option value="في لحظة تخرجي، لا يسعني إلا أن أقف وقفة تقدير وإجلال،
لمن كان النور في طريق العتمة، والدافع في لحظة التراجع، والقدوة حين ضاعت المعايير.

لقد تركتم فينا أثرًا لا تمحوه الأيام، وزرعتم في قلوبنا امتنانًا لا يزول.

شكرًا لكم، لأنكم كنتم أكثر من معلّم… كنتم مصدرًا للثقة، ومثالًا للرسالة النبيلة">
        الرسالة الثانية
      </option>
    </select>
    <input type="text" id="studentName" placeholder="اسم الطالب">
    <button onclick="generateCertificate()">تحميل الشهادة</button>
    <canvas id="certificateCanvas" width="2480" height="3508"></canvas>
    <div class="instructions">على الطالب ارسال بطاقة الشكر للاستاذ عن طريق البريد الالكتروني</div>
  </div>

  <script>
    function generateCertificate() {
      const teacherName = document.getElementById("teacherName").value;
      const studentName = document.getElementById("studentName").value;
      const thankMessage = document.getElementById("thankMessage").value;

      const canvas = document.getElementById("certificateCanvas");
      const ctx = canvas.getContext("2d");

      const background = new Image();
      background.src = "certificate.jpeg";
      background.onload = function () {
        ctx.drawImage(background, 0, 0, canvas.width, canvas.height);

        ctx.fillStyle = "white";
        ctx.textAlign = "center";

        ctx.font = "bold 50px Arial";
        ctx.fillText(teacherName, canvas.width / 2, 260);

        ctx.font = "bold 40px Arial";
        wrapText(ctx, studentName, canvas.width / 2, 900, 1800, 60);

        ctx.font = "34px Arial";
        wrapText(ctx, thankMessage, canvas.width / 2, 1000, 1800, 50);

        const link = document.createElement("a");
        link.download = "certificate.png";
        link.href = canvas.toDataURL();
        link.click();
      };
    }

    function wrapText(ctx, text, x, y, maxWidth, lineHeight) {
      const words = text.split(" ");
      let line = "";
      for (let n = 0; n < words.length; n++) {
        const testLine = line + words[n] + " ";
        const metrics = ctx.measureText(testLine);
        const testWidth = metrics.width;
        if (testWidth > maxWidth && n > 0) {
          ctx.fillText(line, x, y);
          line = words[n] + " ";
          y += lineHeight;
        } else {
          line = testLine;
        }
      }
      ctx.fillText(line, x, y);
    }
  </script>
</body>
</html>
